
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    
    <!-- PWA and iOS Native Feel -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    
    <!-- Apple touch icon for iOS PWA -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png">
    
    <!-- Chrome PWA icons for macOS -->
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png">
    
    <link rel="manifest" href="/site.webmanifest">
    <meta name="apple-mobile-web-app-title" content="PortaPro">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    
    <!-- Calendly badge widget begin -->
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>

    <style>
      /* Make the popup card a positioning context */
      .calendly-overlay .calendly-popup-content { position: relative !important; }

      /* Hide Calendly's default viewport-corner close control (class names may vary by version) */
      .calendly-popup-close,
      .calendly-close-overlay {
        display: none !important;
      }

      /* Our in-card close button */
      .pp-calendly-close {
        position: absolute;
        top: 10px;
        right: 12px;
        width: 32px;
        height: 32px;
        line-height: 32px;
        text-align: center;
        font-size: 18px;
        font-weight: 600;
        border-radius: 9999px;
        border: 1px solid rgba(0,0,0,.08);
        background: #ffffff;
        cursor: pointer;
        z-index: 999999;           /* keep above Calendly internals */
        box-shadow: 0 2px 8px rgba(0,0,0,.08);
        user-select: none;
      }
      .pp-calendly-close:hover { filter: brightness(0.96); }
    </style>

    <script type="text/javascript">
      // When the popup opens, inject an in-card close button
      (function attachCalendlyCloseInsideCard(){
        const observer = new MutationObserver(() => {
          const popup = document.querySelector('.calendly-overlay .calendly-popup');               // popup wrapper
          const content = document.querySelector('.calendly-overlay .calendly-popup-content');     // white card

          if (popup && content && !content.querySelector('.pp-calendly-close')) {
            const btn = document.createElement('button');
            btn.className = 'pp-calendly-close';
            btn.setAttribute('type', 'button');
            btn.setAttribute('aria-label', 'Close scheduling popup');
            btn.innerHTML = 'Ã—';

            const closePopup = () => {
              if (window.Calendly && typeof Calendly.closePopupWidget === 'function') {
                Calendly.closePopupWidget();
              } else {
                // Fallback: remove overlay if API isn't present for some reason
                const overlay = document.querySelector('.calendly-overlay');
                if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
              }
            };

            btn.addEventListener('click', closePopup);
            content.appendChild(btn);

            // Optional: also allow ESC to close
            document.addEventListener('keydown', function escHandler(e){
              if (e.key === 'Escape') closePopup();
            }, { once: true });
          }
        });

        observer.observe(document.documentElement, { childList: true, subtree: true });
      })();
    </script>
    <!-- Calendly badge widget end -->
    
    <!-- Wistia Scripts -->
    <script src="https://fast.wistia.com/player.js" async></script>
    <script src="https://fast.wistia.com/embed/6qvo6ezwgi.js" async type="module"></script>
    <script src="https://fast.wistia.com/embed/a2finp2l33.js" async type="module"></script>
    
    <title>PortaPro Software - Powering Portable Sanitation</title>
    <meta name="description" content="Powering Portable Sanitation" />
    <meta name="author" content="PortaPro" />

    <meta property="og:title" content="PortaPro Software" />
    <meta property="og:description" content="Mobile tech app for portable toilet rental service" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/" />
    <meta property="og:site_name" content="PortaPro" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="PortaPro Software" />
    <meta name="twitter:description" content="Mobile tech app for portable toilet rental service" />

    <style>
      /* PWA safe area support */
      .safe-area-top {
        padding-top: env(safe-area-inset-top);
      }
      .safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom);
      }
      
      /* Mobile optimizations - native app feel */
      @media (max-width: 768px) {
        body {
          -webkit-touch-callout: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
          /* Minimum 16px font to prevent auto-zoom on input focus */
          font-size: 16px;
        }
        
        /* Prevent input zoom on iOS */
        input, textarea, select {
          font-size: 16px !important;
        }
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
